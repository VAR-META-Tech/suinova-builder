{"version":3,"file":"react-quill.cjs.development.js","sources":["../src/utils.ts","../src/useIsClient.ts","../src/index.tsx"],"sourcesContent":["import {\n  ComponentMeta,\n  default as registerComponent,\n} from \"@plasmicapp/host/registerComponent\";\nimport {\n  default as registerGlobalContext,\n  GlobalContextMeta,\n} from \"@plasmicapp/host/registerGlobalContext\";\nimport { default as registerToken } from \"@plasmicapp/host/registerToken\";\nimport React from \"react\";\n\nexport type Registerable = {\n  registerComponent: typeof registerComponent;\n  registerGlobalContext: typeof registerGlobalContext;\n  registerToken: typeof registerToken;\n};\n\nexport function makeRegisterComponent<T extends React.ComponentType<any>>(\n  component: T,\n  meta: ComponentMeta<React.ComponentProps<T>>\n) {\n  return function (loader?: Registerable) {\n    registerComponentHelper(loader, component, meta);\n  };\n}\n\nexport function makeRegisterGlobalContext<T extends React.ComponentType<any>>(\n  component: T,\n  meta: GlobalContextMeta<React.ComponentProps<T>>\n) {\n  return function (loader?: Registerable) {\n    if (loader) {\n      loader.registerGlobalContext(component, meta);\n    } else {\n      registerGlobalContext(component, meta);\n    }\n  };\n}\n\nexport function registerComponentHelper<T extends React.ComponentType<any>>(\n  loader: Registerable | undefined,\n  component: T,\n  meta: ComponentMeta<React.ComponentProps<T>>\n) {\n  if (loader) {\n    loader.registerComponent(component, meta);\n  } else {\n    registerComponent(component, meta);\n  }\n}\n\ntype ReactElt = {\n  children: ReactElt | ReactElt[];\n  props: {\n    children: ReactElt | ReactElt[];\n    [prop: string]: any;\n  } | null;\n  type: React.ComponentType<any> | null;\n  key: string | null;\n} | null;\n\nexport function traverseReactEltTree(\n  children: React.ReactNode,\n  callback: (elt: ReactElt) => void\n) {\n  const rec = (elts: ReactElt | ReactElt[] | null) => {\n    (Array.isArray(elts) ? elts : [elts]).forEach((elt) => {\n      if (elt) {\n        callback(elt);\n        if (elt.children) {\n          rec(elt.children);\n        }\n        if (elt.props?.children && elt.props.children !== elt.children) {\n          rec(elt.props.children);\n        }\n      }\n    });\n  };\n  rec(children as any);\n}\n\nexport function asArray<T>(x: T[] | T | undefined | null) {\n  if (Array.isArray(x)) {\n    return x;\n  } else if (x == null) {\n    return [];\n  } else {\n    return [x];\n  }\n}\n","import React from \"react\";\n\nexport function useIsClient() {\n    const [loaded, setLoaded] = React.useState(false);\n    useIsomorphicLayoutEffect(() => {\n        setLoaded(true);\n    });\n    return loaded;\n}\n\nconst isBrowser = typeof window !== \"undefined\";\nexport const useIsomorphicLayoutEffect = isBrowser\n    ? React.useLayoutEffect\n    : React.useEffect;","import React, { useMemo } from \"react\";\nimport { ReactQuillProps } from \"react-quill\";\nimport { Registerable, registerComponentHelper } from \"./utils\";\nimport { PropType } from \"@plasmicapp/host\";\nimport { useIsClient } from \"./useIsClient\";\nconst ReactQuill =\n  typeof window !== \"undefined\" ? require(\"react-quill\") : null;\n\ntype ToolbarOptionsType =\n  | \"textStyle\"\n  | \"script\"\n  | \"fontFamily\"\n  | \"heading\"\n  | \"fontSizes\"\n  | \"colors\"\n  | \"formatting\"\n  | \"inputTypes\";\n\nconst TEXT_STYLE_DICT = {\n  bold: \"bold\",\n  italic: \"italic\",\n  underline: \"underline\",\n  strikethrough: \"strike\",\n};\n\nconst HEADING_TYPES_DICT = {\n  \"Heading 1\": 1,\n  \"Heading 2\": 2,\n  \"Heading 3\": 3,\n  \"Heading 4\": 4,\n  \"Heading 5\": 5,\n  \"Heading 6\": 6,\n  Body: \"normal\",\n};\n\nconst FONT_SIZES = [\"small\", \"medium\", \"large\", \"huge\"];\n\nconst COLOR_TYPE_DICT = {\n  \"text color\": \"color\",\n  \"text background\": \"background\",\n};\n\nconst FORMATTING_TYPES_DICT = {\n  alignment: \"align\",\n  list: \"list\",\n  indentation: \"indent\",\n  \"text direction\": \"direction\",\n  \"clear formatting\": \"clean\",\n};\n\nconst INPUT_TYPES = [\n  \"link\",\n  \"blockquote\",\n  \"image\",\n  \"video\",\n  \"code-block\",\n  \"formula\",\n];\n\nexport function Quill(\n  props: ReactQuillProps & {\n    containerClassName: string;\n    customToolbar: any[];\n    toolbar: Record<ToolbarOptionsType, any>;\n  }\n) {\n  const isClient = useIsClient();\n\n  const { containerClassName, toolbar, customToolbar, ...rest } = props;\n\n  const modules = useMemo(() => {\n    if (customToolbar) {\n      return {\n        toolbar: customToolbar,\n      };\n    }\n\n    const {\n      textStyle,\n      fontFamily,\n      heading,\n      fontSizes,\n      colors,\n      script,\n      formatting,\n      inputTypes,\n    } = toolbar;\n\n    const textStyleControls = Object.keys(TEXT_STYLE_DICT)\n      .filter((key) => textStyle.includes(key))\n      .map((key) => TEXT_STYLE_DICT[key as keyof typeof TEXT_STYLE_DICT]);\n\n    const colorControls = Object.keys(COLOR_TYPE_DICT)\n      .filter((key) => colors.includes(key))\n      .map((key) => ({\n        [COLOR_TYPE_DICT[key as keyof typeof COLOR_TYPE_DICT]]: [],\n      }));\n\n    const scriptControls = script\n      ? [{ script: \"super\" }, { script: \"sub\" }]\n      : undefined;\n\n    const fontControls = [\n      fontFamily ? { font: [] } : undefined,\n      heading.length\n        ? {\n            header: Object.keys(HEADING_TYPES_DICT)\n              .filter((key) => heading.includes(key))\n              .map(\n                (key) =>\n                  HEADING_TYPES_DICT[key as keyof typeof HEADING_TYPES_DICT]\n              ),\n          }\n        : undefined,\n      fontSizes.length\n        ? { size: FONT_SIZES.filter((fs) => fontSizes.includes(fs)) }\n        : undefined,\n    ].filter((i) => i);\n\n    const listControlsGroup: any[] = [];\n    const indentationControlsGroup: any[] = [];\n    const otherFormattingControlsGroup: any[] = [];\n\n    formatting?.map((f: keyof typeof FORMATTING_TYPES_DICT) => {\n      switch (f) {\n        case \"list\":\n          listControlsGroup.push({\n            [FORMATTING_TYPES_DICT[\"list\"]]: \"ordered\",\n          });\n          listControlsGroup.push({ [FORMATTING_TYPES_DICT[\"list\"]]: \"bullet\" });\n          break;\n        case \"alignment\":\n          otherFormattingControlsGroup.push({\n            [FORMATTING_TYPES_DICT[\"alignment\"]]: [],\n          });\n          break;\n        case \"indentation\":\n          indentationControlsGroup.push({\n            [FORMATTING_TYPES_DICT[\"indentation\"]]: \"-1\",\n          });\n          indentationControlsGroup.push({\n            [FORMATTING_TYPES_DICT[\"indentation\"]]: \"+1\",\n          });\n          break;\n        case \"text direction\":\n          otherFormattingControlsGroup.push({\n            [FORMATTING_TYPES_DICT[\"text direction\"]]: \"rtl\",\n          });\n          break;\n        case \"clear formatting\":\n          otherFormattingControlsGroup.push(\n            FORMATTING_TYPES_DICT[\"clear formatting\"]\n          );\n          break;\n      }\n    });\n\n    const otherInputControls = inputTypes.length\n      ? INPUT_TYPES.filter((inp) => inputTypes.includes(inp))\n      : undefined;\n\n    return {\n      toolbar: [\n        textStyleControls,\n        colorControls,\n        scriptControls,\n        fontControls,\n        listControlsGroup,\n        indentationControlsGroup,\n        otherFormattingControlsGroup,\n        otherInputControls,\n      ].filter((i) => i?.length),\n    };\n  }, [toolbar, customToolbar]);\n\n  const key = useMemo(\n    () => JSON.stringify(modules) + String(rest.preserveWhitespace),\n    [rest.preserveWhitespace, modules]\n  );\n\n  if (!isClient) {\n    return null;\n  }\n\n  return (\n    <div className={containerClassName}>\n      <ReactQuill key={key} modules={modules} {...rest} />\n    </div>\n  );\n}\n\nexport const quillHelpers = {\n  states: {\n    value: {\n      onChangeArgsToValue: ((content, _delta, _source, _editor) => {\n        return content;\n      }) as ReactQuillProps[\"onChange\"],\n    },\n  },\n};\n\nconst toolbarFields: Record<ToolbarOptionsType, PropType<any>> = {\n  textStyle: {\n    type: \"choice\",\n    multiSelect: true,\n    options: Object.keys(TEXT_STYLE_DICT),\n    defaultValue: Object.keys(TEXT_STYLE_DICT),\n  },\n  colors: {\n    type: \"choice\",\n    multiSelect: true,\n    options: Object.keys(COLOR_TYPE_DICT),\n    defaultValue: Object.keys(COLOR_TYPE_DICT),\n  },\n  script: {\n    displayName: \"Super/Sub Script\",\n    type: \"boolean\",\n    defaultValue: true,\n  },\n  fontFamily: {\n    type: \"boolean\",\n    defaultValue: true,\n  },\n  heading: {\n    type: \"choice\",\n    multiSelect: true,\n    options: Object.keys(HEADING_TYPES_DICT),\n    defaultValue: Object.keys(HEADING_TYPES_DICT),\n  },\n  fontSizes: {\n    type: \"choice\",\n    multiSelect: true,\n    options: FONT_SIZES,\n    defaultValue: FONT_SIZES,\n  },\n  formatting: {\n    type: \"choice\",\n    multiSelect: true,\n    options: Object.keys(FORMATTING_TYPES_DICT),\n    defaultValue: Object.keys(FORMATTING_TYPES_DICT),\n  },\n  inputTypes: {\n    type: \"choice\",\n    multiSelect: true,\n    options: INPUT_TYPES,\n    defaultValue: INPUT_TYPES,\n  },\n} as const;\n\nexport function registerQuill(loader?: Registerable) {\n  registerComponentHelper(loader, Quill, {\n    name: \"hostless-react-quill\",\n    displayName: \"Rich Text Editor\",\n    classNameProp: \"containerClassName\",\n    defaultStyles: {\n      width: \"stretch\",\n    },\n    props: {\n      value: {\n        type: \"string\",\n        displayName: \"HTML Value\",\n        editOnly: true,\n        uncontrolledProp: \"defaultValue\",\n        description: \"Contents of the editor\",\n      },\n      toolbar: {\n        type: \"object\",\n        fields: { ...toolbarFields },\n        defaultValue: Object.keys(toolbarFields).reduce((acc: any, key) => {\n          acc[key] = (\n            toolbarFields[key as keyof typeof toolbarFields] as any\n          ).defaultValue;\n          return acc;\n        }, {}),\n        description: \"Customize the toolbar to show/hide controls\",\n      },\n      customToolbar: {\n        type: \"array\",\n        advanced: true,\n        description:\n          \"Custom toolbar configuration for Quill editor. Overrides the existing toolbar.\",\n        helpText:\n          \"Check toolbarOptions here: https://quilljs.com/docs/modules/toolbar\",\n      },\n      placeholder: \"string\",\n      preserveWhitespace: {\n        type: \"boolean\",\n        description:\n          \"Prevents Quill from collapsing continuous whitespaces on paste\",\n        advanced: true,\n        defaultValue: true,\n      },\n      readOnly: {\n        type: \"boolean\",\n        description: \"Prevents user from changing the contents of the editor\",\n        defaultValue: false,\n        advanced: true,\n      },\n      onChange: {\n        type: \"eventHandler\",\n        advanced: true,\n        argTypes: [\n          {\n            name: \"content\",\n            type: \"string\",\n          },\n          {\n            name: \"delta\",\n            type: \"object\",\n          },\n          {\n            name: \"source\",\n            type: \"string\",\n          },\n          {\n            name: \"editor\",\n            type: \"object\",\n          },\n        ],\n      },\n      onChangeSelection: {\n        type: \"eventHandler\",\n        advanced: true,\n        argTypes: [\n          {\n            name: \"range\",\n            type: \"object\",\n          },\n          {\n            name: \"source\",\n            type: \"string\",\n          },\n          {\n            name: \"editor\",\n            type: \"object\",\n          },\n        ],\n      },\n      onFocus: {\n        type: \"eventHandler\",\n        advanced: true,\n        argTypes: [\n          {\n            name: \"range\",\n            type: \"object\",\n          },\n          {\n            name: \"source\",\n            type: \"string\",\n          },\n          {\n            name: \"editor\",\n            type: \"object\",\n          },\n        ],\n      },\n      onBlur: {\n        type: \"eventHandler\",\n        advanced: true,\n        argTypes: [\n          {\n            name: \"previousRange\",\n            type: \"object\",\n          },\n          {\n            name: \"source\",\n            type: \"string\",\n          },\n          {\n            name: \"editor\",\n            type: \"object\",\n          },\n        ],\n      },\n      onKeyPress: {\n        type: \"eventHandler\",\n        advanced: true,\n        argTypes: [\n          {\n            name: \"event\",\n            type: \"object\",\n          },\n        ],\n      },\n      onKeyDown: {\n        type: \"eventHandler\",\n        advanced: true,\n        argTypes: [\n          {\n            name: \"event\",\n            type: \"object\",\n          },\n        ],\n      },\n      onKeyUp: {\n        type: \"eventHandler\",\n        advanced: true,\n        argTypes: [\n          {\n            name: \"event\",\n            type: \"object\",\n          },\n        ],\n      },\n    } as any,\n    states: {\n      value: {\n        type: \"writable\",\n        valueProp: \"value\",\n        onChangeProp: \"onChange\",\n        variableType: \"text\",\n        // initVal: \"\",\n        ...quillHelpers.states.value,\n      },\n    },\n    componentHelpers: {\n      helpers: quillHelpers,\n      importName: \"quillHelpers\",\n      importPath: \"@plasmicpkgs/react-quill\",\n    },\n    importName: \"Quill\",\n    importPath: \"@plasmicpkgs/react-quill\",\n  });\n}\n"],"names":["registerComponentHelper","loader","component","meta","registerComponent","useIsClient","_React$useState","React","useState","loaded","setLoaded","useIsomorphicLayoutEffect","isBrowser","window","useLayoutEffect","useEffect","ReactQuill","require","TEXT_STYLE_DICT","bold","italic","underline","strikethrough","HEADING_TYPES_DICT","Body","FONT_SIZES","COLOR_TYPE_DICT","FORMATTING_TYPES_DICT","alignment","list","indentation","INPUT_TYPES","Quill","props","isClient","containerClassName","toolbar","customToolbar","rest","_objectWithoutPropertiesLoose","_excluded","modules","useMemo","textStyle","fontFamily","heading","fontSizes","colors","script","formatting","inputTypes","textStyleControls","Object","keys","filter","key","includes","map","colorControls","_ref","scriptControls","undefined","fontControls","font","length","header","size","fs","i","listControlsGroup","indentationControlsGroup","otherFormattingControlsGroup","f","push","_listControlsGroup$pu","_listControlsGroup$pu2","_otherFormattingContr","_indentationControlsG","_indentationControlsG2","_otherFormattingContr2","otherInputControls","inp","JSON","stringify","String","preserveWhitespace","className","quillHelpers","states","value","onChangeArgsToValue","content","_delta","_source","_editor","toolbarFields","type","multiSelect","options","defaultValue","displayName","registerQuill","name","classNameProp","defaultStyles","width","editOnly","uncontrolledProp","description","fields","_extends","reduce","acc","advanced","helpText","placeholder","readOnly","onChange","argTypes","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp","valueProp","onChangeProp","variableType","componentHelpers","helpers","importName","importPath"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;SAuCgBA,uBAAuBA,CACrCC,MAAgC,EAChCC,SAAY,EACZC,IAA4C;EAE5C,IAAIF,MAAM,EAAE;IACVA,MAAM,CAACG,iBAAiB,CAACF,SAAS,EAAEC,IAAI,CAAC;GAC1C,MAAM;IACLC,iBAAiB,CAACF,SAAS,EAAEC,IAAI,CAAC;;AAEtC;;SC/CgBE,WAAWA;EACvB,IAAAC,eAAA,GAA4BC,cAAK,CAACC,QAAQ,CAAC,KAAK,CAAC;IAA1CC,MAAM,GAAAH,eAAA;IAAEI,SAAS,GAAAJ,eAAA;EACxBK,yBAAyB,CAAC;IACtBD,SAAS,CAAC,IAAI,CAAC;GAClB,CAAC;EACF,OAAOD,MAAM;AACjB;AAEA,IAAMG,SAAS,GAAG,OAAOC,MAAM,KAAK,WAAW;AAC/C,AAAO,IAAMF,yBAAyB,GAAGC,SAAS,GAC5CL,cAAK,CAACO,eAAe,GACrBP,cAAK,CAACQ,SAAS;;;ACbrB,AAKA,IAAMC,UAAU,GACd,OAAOH,MAAM,KAAK,WAAW,gBAAGI,OAAO,CAAC,aAAa,CAAC,GAAG,IAAI;AAY/D,IAAMC,eAAe,GAAG;EACtBC,IAAI,EAAE,MAAM;EACZC,MAAM,EAAE,QAAQ;EAChBC,SAAS,EAAE,WAAW;EACtBC,aAAa,EAAE;CAChB;AAED,IAAMC,kBAAkB,GAAG;EACzB,WAAW,EAAE,CAAC;EACd,WAAW,EAAE,CAAC;EACd,WAAW,EAAE,CAAC;EACd,WAAW,EAAE,CAAC;EACd,WAAW,EAAE,CAAC;EACd,WAAW,EAAE,CAAC;EACdC,IAAI,EAAE;CACP;AAED,IAAMC,UAAU,GAAG,CAAC,OAAO,EAAE,QAAQ,EAAE,OAAO,EAAE,MAAM,CAAC;AAEvD,IAAMC,eAAe,GAAG;EACtB,YAAY,EAAE,OAAO;EACrB,iBAAiB,EAAE;CACpB;AAED,IAAMC,qBAAqB,GAAG;EAC5BC,SAAS,EAAE,OAAO;EAClBC,IAAI,EAAE,MAAM;EACZC,WAAW,EAAE,QAAQ;EACrB,gBAAgB,EAAE,WAAW;EAC7B,kBAAkB,EAAE;CACrB;AAED,IAAMC,WAAW,GAAG,CAClB,MAAM,EACN,YAAY,EACZ,OAAO,EACP,OAAO,EACP,YAAY,EACZ,SAAS,CACV;AAED,SAAgBC,KAAKA,CACnBC,KAIC;EAED,IAAMC,QAAQ,GAAG7B,WAAW,EAAE;EAE9B,IAAQ8B,kBAAkB,GAAsCF,KAAK,CAA7DE,kBAAkB;IAAEC,OAAO,GAA6BH,KAAK,CAAzCG,OAAO;IAAEC,aAAa,GAAcJ,KAAK,CAAhCI,aAAa;IAAKC,IAAI,GAAAC,6BAAA,CAAKN,KAAK,EAAAO,SAAA;EAErE,IAAMC,OAAO,GAAGC,aAAO,CAAC;IACtB,IAAIL,aAAa,EAAE;MACjB,OAAO;QACLD,OAAO,EAAEC;OACV;;IAGH,IACEM,SAAS,GAQPP,OAAO,CARTO,SAAS;MACTC,UAAU,GAORR,OAAO,CAPTQ,UAAU;MACVC,OAAO,GAMLT,OAAO,CANTS,OAAO;MACPC,SAAS,GAKPV,OAAO,CALTU,SAAS;MACTC,MAAM,GAIJX,OAAO,CAJTW,MAAM;MACNC,MAAM,GAGJZ,OAAO,CAHTY,MAAM;MACNC,UAAU,GAERb,OAAO,CAFTa,UAAU;MACVC,UAAU,GACRd,OAAO,CADTc,UAAU;IAGZ,IAAMC,iBAAiB,GAAGC,MAAM,CAACC,IAAI,CAACnC,eAAe,CAAC,CACnDoC,MAAM,CAAC,UAACC,GAAG;MAAA,OAAKZ,SAAS,CAACa,QAAQ,CAACD,GAAG,CAAC;MAAC,CACxCE,GAAG,CAAC,UAACF,GAAG;MAAA,OAAKrC,eAAe,CAACqC,GAAmC,CAAC;MAAC;IAErE,IAAMG,aAAa,GAAGN,MAAM,CAACC,IAAI,CAAC3B,eAAe,CAAC,CAC/C4B,MAAM,CAAC,UAACC,GAAG;MAAA,OAAKR,MAAM,CAACS,QAAQ,CAACD,GAAG,CAAC;MAAC,CACrCE,GAAG,CAAC,UAACF,GAAG;MAAA,IAAAI,IAAA;MAAA,OAAAA,IAAA,OAAAA,IAAA,CACNjC,eAAe,CAAC6B,GAAmC,CAAC,IAAG,EAAE,EAAAI,IAAA;KAC1D,CAAC;IAEL,IAAMC,cAAc,GAAGZ,MAAM,GACzB,CAAC;MAAEA,MAAM,EAAE;KAAS,EAAE;MAAEA,MAAM,EAAE;KAAO,CAAC,GACxCa,SAAS;IAEb,IAAMC,YAAY,GAAG,CACnBlB,UAAU,GAAG;MAAEmB,IAAI,EAAE;KAAI,GAAGF,SAAS,EACrChB,OAAO,CAACmB,MAAM,GACV;MACEC,MAAM,EAAEb,MAAM,CAACC,IAAI,CAAC9B,kBAAkB,CAAC,CACpC+B,MAAM,CAAC,UAACC,GAAG;QAAA,OAAKV,OAAO,CAACW,QAAQ,CAACD,GAAG,CAAC;QAAC,CACtCE,GAAG,CACF,UAACF,GAAG;QAAA,OACFhC,kBAAkB,CAACgC,GAAsC,CAAC;;KAEjE,GACDM,SAAS,EACbf,SAAS,CAACkB,MAAM,GACZ;MAAEE,IAAI,EAAEzC,UAAU,CAAC6B,MAAM,CAAC,UAACa,EAAE;QAAA,OAAKrB,SAAS,CAACU,QAAQ,CAACW,EAAE,CAAC;;KAAG,GAC3DN,SAAS,CACd,CAACP,MAAM,CAAC,UAACc,CAAC;MAAA,OAAKA,CAAC;MAAC;IAElB,IAAMC,iBAAiB,GAAU,EAAE;IACnC,IAAMC,wBAAwB,GAAU,EAAE;IAC1C,IAAMC,4BAA4B,GAAU,EAAE;IAE9CtB,UAAU,YAAVA,UAAU,CAAEQ,GAAG,CAAC,UAACe,CAAqC;;MACpD,QAAQA,CAAC;QACP,KAAK,MAAM;UACTH,iBAAiB,CAACI,IAAI,EAAAC,qBAAA,OAAAA,qBAAA,CACnB/C,qBAAqB,CAAC,MAAM,CAAC,IAAG,SAAS,EAAA+C,qBAAA,EAC1C;UACFL,iBAAiB,CAACI,IAAI,EAAAE,sBAAA,OAAAA,sBAAA,CAAIhD,qBAAqB,CAAC,MAAM,CAAC,IAAG,QAAQ,EAAAgD,sBAAA,EAAG;UACrE;QACF,KAAK,WAAW;UACdJ,4BAA4B,CAACE,IAAI,EAAAG,qBAAA,OAAAA,qBAAA,CAC9BjD,qBAAqB,CAAC,WAAW,CAAC,IAAG,EAAE,EAAAiD,qBAAA,EACxC;UACF;QACF,KAAK,aAAa;UAChBN,wBAAwB,CAACG,IAAI,EAAAI,qBAAA,OAAAA,qBAAA,CAC1BlD,qBAAqB,CAAC,aAAa,CAAC,IAAG,IAAI,EAAAkD,qBAAA,EAC5C;UACFP,wBAAwB,CAACG,IAAI,EAAAK,sBAAA,OAAAA,sBAAA,CAC1BnD,qBAAqB,CAAC,aAAa,CAAC,IAAG,IAAI,EAAAmD,sBAAA,EAC5C;UACF;QACF,KAAK,gBAAgB;UACnBP,4BAA4B,CAACE,IAAI,EAAAM,sBAAA,OAAAA,sBAAA,CAC9BpD,qBAAqB,CAAC,gBAAgB,CAAC,IAAG,KAAK,EAAAoD,sBAAA,EAChD;UACF;QACF,KAAK,kBAAkB;UACrBR,4BAA4B,CAACE,IAAI,CAC/B9C,qBAAqB,CAAC,kBAAkB,CAAC,CAC1C;UACD;;KAEL,CAAC;IAEF,IAAMqD,kBAAkB,GAAG9B,UAAU,CAACc,MAAM,GACxCjC,WAAW,CAACuB,MAAM,CAAC,UAAC2B,GAAG;MAAA,OAAK/B,UAAU,CAACM,QAAQ,CAACyB,GAAG,CAAC;MAAC,GACrDpB,SAAS;IAEb,OAAO;MACLzB,OAAO,EAAE,CACPe,iBAAiB,EACjBO,aAAa,EACbE,cAAc,EACdE,YAAY,EACZO,iBAAiB,EACjBC,wBAAwB,EACxBC,4BAA4B,EAC5BS,kBAAkB,CACnB,CAAC1B,MAAM,CAAC,UAACc,CAAC;QAAA,OAAKA,CAAC,oBAADA,CAAC,CAAEJ,MAAM;;KAC1B;GACF,EAAE,CAAC5B,OAAO,EAAEC,aAAa,CAAC,CAAC;EAE5B,IAAMkB,GAAG,GAAGb,aAAO,CACjB;IAAA,OAAMwC,IAAI,CAACC,SAAS,CAAC1C,OAAO,CAAC,GAAG2C,MAAM,CAAC9C,IAAI,CAAC+C,kBAAkB,CAAC;KAC/D,CAAC/C,IAAI,CAAC+C,kBAAkB,EAAE5C,OAAO,CAAC,CACnC;EAED,IAAI,CAACP,QAAQ,EAAE;IACb,OAAO,IAAI;;EAGb,OACE3B;IAAK+E,SAAS,EAAEnD;KACd5B,6BAACS,UAAU;IAACuC,GAAG,EAAEA,GAAG;IAAEd,OAAO,EAAEA;KAAaH,IAAI,EAAI,CAChD;AAEV;AAEA,IAAaiD,YAAY,GAAG;EAC1BC,MAAM,EAAE;IACNC,KAAK,EAAE;MACLC,mBAAmB,EAAG,SAAAA,oBAACC,OAAO,EAAEC,MAAM,EAAEC,OAAO,EAAEC,OAAO;QACtD,OAAOH,OAAO;;;;CAIrB;AAED,IAAMI,aAAa,GAA8C;EAC/DpD,SAAS,EAAE;IACTqD,IAAI,EAAE,QAAQ;IACdC,WAAW,EAAE,IAAI;IACjBC,OAAO,eAAE9C,MAAM,CAACC,IAAI,CAACnC,eAAe,CAAC;IACrCiF,YAAY,eAAE/C,MAAM,CAACC,IAAI,CAACnC,eAAe;GAC1C;EACD6B,MAAM,EAAE;IACNiD,IAAI,EAAE,QAAQ;IACdC,WAAW,EAAE,IAAI;IACjBC,OAAO,eAAE9C,MAAM,CAACC,IAAI,CAAC3B,eAAe,CAAC;IACrCyE,YAAY,eAAE/C,MAAM,CAACC,IAAI,CAAC3B,eAAe;GAC1C;EACDsB,MAAM,EAAE;IACNoD,WAAW,EAAE,kBAAkB;IAC/BJ,IAAI,EAAE,SAAS;IACfG,YAAY,EAAE;GACf;EACDvD,UAAU,EAAE;IACVoD,IAAI,EAAE,SAAS;IACfG,YAAY,EAAE;GACf;EACDtD,OAAO,EAAE;IACPmD,IAAI,EAAE,QAAQ;IACdC,WAAW,EAAE,IAAI;IACjBC,OAAO,eAAE9C,MAAM,CAACC,IAAI,CAAC9B,kBAAkB,CAAC;IACxC4E,YAAY,eAAE/C,MAAM,CAACC,IAAI,CAAC9B,kBAAkB;GAC7C;EACDuB,SAAS,EAAE;IACTkD,IAAI,EAAE,QAAQ;IACdC,WAAW,EAAE,IAAI;IACjBC,OAAO,EAAEzE,UAAU;IACnB0E,YAAY,EAAE1E;GACf;EACDwB,UAAU,EAAE;IACV+C,IAAI,EAAE,QAAQ;IACdC,WAAW,EAAE,IAAI;IACjBC,OAAO,eAAE9C,MAAM,CAACC,IAAI,CAAC1B,qBAAqB,CAAC;IAC3CwE,YAAY,eAAE/C,MAAM,CAACC,IAAI,CAAC1B,qBAAqB;GAChD;EACDuB,UAAU,EAAE;IACV8C,IAAI,EAAE,QAAQ;IACdC,WAAW,EAAE,IAAI;IACjBC,OAAO,EAAEnE,WAAW;IACpBoE,YAAY,EAAEpE;;CAER;AAEV,SAAgBsE,aAAaA,CAACpG,MAAqB;EACjDD,uBAAuB,CAACC,MAAM,EAAE+B,KAAK,EAAE;IACrCsE,IAAI,EAAE,sBAAsB;IAC5BF,WAAW,EAAE,kBAAkB;IAC/BG,aAAa,EAAE,oBAAoB;IACnCC,aAAa,EAAE;MACbC,KAAK,EAAE;KACR;IACDxE,KAAK,EAAE;MACLwD,KAAK,EAAE;QACLO,IAAI,EAAE,QAAQ;QACdI,WAAW,EAAE,YAAY;QACzBM,QAAQ,EAAE,IAAI;QACdC,gBAAgB,EAAE,cAAc;QAChCC,WAAW,EAAE;OACd;MACDxE,OAAO,EAAE;QACP4D,IAAI,EAAE,QAAQ;QACda,MAAM,EAAAC,QAAA,KAAOf,aAAa,CAAE;QAC5BI,YAAY,EAAE/C,MAAM,CAACC,IAAI,CAAC0C,aAAa,CAAC,CAACgB,MAAM,CAAC,UAACC,GAAQ,EAAEzD,GAAG;UAC5DyD,GAAG,CAACzD,GAAG,CAAC,GACNwC,aAAa,CAACxC,GAAiC,CAChD,CAAC4C,YAAY;UACd,OAAOa,GAAG;SACX,EAAE,EAAE,CAAC;QACNJ,WAAW,EAAE;OACd;MACDvE,aAAa,EAAE;QACb2D,IAAI,EAAE,OAAO;QACbiB,QAAQ,EAAE,IAAI;QACdL,WAAW,EACT,gFAAgF;QAClFM,QAAQ,EACN;OACH;MACDC,WAAW,EAAE,QAAQ;MACrB9B,kBAAkB,EAAE;QAClBW,IAAI,EAAE,SAAS;QACfY,WAAW,EACT,gEAAgE;QAClEK,QAAQ,EAAE,IAAI;QACdd,YAAY,EAAE;OACf;MACDiB,QAAQ,EAAE;QACRpB,IAAI,EAAE,SAAS;QACfY,WAAW,EAAE,wDAAwD;QACrET,YAAY,EAAE,KAAK;QACnBc,QAAQ,EAAE;OACX;MACDI,QAAQ,EAAE;QACRrB,IAAI,EAAE,cAAc;QACpBiB,QAAQ,EAAE,IAAI;QACdK,QAAQ,EAAE,CACR;UACEhB,IAAI,EAAE,SAAS;UACfN,IAAI,EAAE;SACP,EACD;UACEM,IAAI,EAAE,OAAO;UACbN,IAAI,EAAE;SACP,EACD;UACEM,IAAI,EAAE,QAAQ;UACdN,IAAI,EAAE;SACP,EACD;UACEM,IAAI,EAAE,QAAQ;UACdN,IAAI,EAAE;SACP;OAEJ;MACDuB,iBAAiB,EAAE;QACjBvB,IAAI,EAAE,cAAc;QACpBiB,QAAQ,EAAE,IAAI;QACdK,QAAQ,EAAE,CACR;UACEhB,IAAI,EAAE,OAAO;UACbN,IAAI,EAAE;SACP,EACD;UACEM,IAAI,EAAE,QAAQ;UACdN,IAAI,EAAE;SACP,EACD;UACEM,IAAI,EAAE,QAAQ;UACdN,IAAI,EAAE;SACP;OAEJ;MACDwB,OAAO,EAAE;QACPxB,IAAI,EAAE,cAAc;QACpBiB,QAAQ,EAAE,IAAI;QACdK,QAAQ,EAAE,CACR;UACEhB,IAAI,EAAE,OAAO;UACbN,IAAI,EAAE;SACP,EACD;UACEM,IAAI,EAAE,QAAQ;UACdN,IAAI,EAAE;SACP,EACD;UACEM,IAAI,EAAE,QAAQ;UACdN,IAAI,EAAE;SACP;OAEJ;MACDyB,MAAM,EAAE;QACNzB,IAAI,EAAE,cAAc;QACpBiB,QAAQ,EAAE,IAAI;QACdK,QAAQ,EAAE,CACR;UACEhB,IAAI,EAAE,eAAe;UACrBN,IAAI,EAAE;SACP,EACD;UACEM,IAAI,EAAE,QAAQ;UACdN,IAAI,EAAE;SACP,EACD;UACEM,IAAI,EAAE,QAAQ;UACdN,IAAI,EAAE;SACP;OAEJ;MACD0B,UAAU,EAAE;QACV1B,IAAI,EAAE,cAAc;QACpBiB,QAAQ,EAAE,IAAI;QACdK,QAAQ,EAAE,CACR;UACEhB,IAAI,EAAE,OAAO;UACbN,IAAI,EAAE;SACP;OAEJ;MACD2B,SAAS,EAAE;QACT3B,IAAI,EAAE,cAAc;QACpBiB,QAAQ,EAAE,IAAI;QACdK,QAAQ,EAAE,CACR;UACEhB,IAAI,EAAE,OAAO;UACbN,IAAI,EAAE;SACP;OAEJ;MACD4B,OAAO,EAAE;QACP5B,IAAI,EAAE,cAAc;QACpBiB,QAAQ,EAAE,IAAI;QACdK,QAAQ,EAAE,CACR;UACEhB,IAAI,EAAE,OAAO;UACbN,IAAI,EAAE;SACP;;KAGC;IACRR,MAAM,EAAE;MACNC,KAAK,EAAAqB,QAAA;QACHd,IAAI,EAAE,UAAU;QAChB6B,SAAS,EAAE,OAAO;QAClBC,YAAY,EAAE,UAAU;QACxBC,YAAY,EAAE;SAEXxC,YAAY,CAACC,MAAM,CAACC,KAAK;KAE/B;IACDuC,gBAAgB,EAAE;MAChBC,OAAO,EAAE1C,YAAY;MACrB2C,UAAU,EAAE,cAAc;MAC1BC,UAAU,EAAE;KACb;IACDD,UAAU,EAAE,OAAO;IACnBC,UAAU,EAAE;GACb,CAAC;AACJ;;;;;;"}