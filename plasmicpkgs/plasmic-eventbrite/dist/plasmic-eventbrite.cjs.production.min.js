"use strict";function e(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(exports,"__esModule",{value:!0});var t=e(require("@plasmicapp/host/registerComponent")),r=e(require("react")),n=require("uuid"),o="EB_SCRIPT_"+n.v4(),i="https://www.eventbrite.com/static/widgets/eb_widgets.js",a={name:"hostless-eventbrite",displayName:"EventBrite",importName:"Eventbrite",importPath:"@plasmicpkgs/plasmic-eventbrite",providesData:!0,description:"Shows Eventbrite checkout on your website",defaultStyles:{color:"#ffffff",fontSize:"12px",width:"100px",height:"25px",borderWidth:"0px",backgroundColor:"#19aee7",borderRadius:"4px"},props:{eventId:{type:"string",displayName:"Event ID",description:'Learn how to get event ID ("https://www.eventbrite.com/platform/docs/events")',defaultValue:"463676879027",helpText:"In the URL field at the top, you see something like https://www.eventbrite.com/myevent?eid=123456789 . The number after eid= is the Event ID"},text:{type:"string",displayName:"Label",description:"Label",defaultValue:"Buy tickets"}}};function s(e){var t=e.className,a=e.text,s=e.eventId;if(!s)return r.createElement("div",null,"Please enter Event Id");var l=function(e){var t=e.eventId,a=e.modal,s=e.onOrderComplete,l=e.promoCode,d="EB_"+n.v4(),u=r.useState(!1),c=u[0],p=u[1],v=r.useCallback((function(){return p(!0)}),[p]),m=r.useCallback((function(e){console.error("Failed to load Eventbrite script from "+i),console.error(e),p(!1)}),[p]);return r.useEffect((function(){var e;if(null==(e=globalThis.window)||!e.EBWidgets){var t=document.getElementById(o);t&&t.remove();var r=document.createElement("script");return r.id=o,r.async=!0,r.src=i,r.addEventListener("load",v),r.addEventListener("error",m),r.addEventListener("abort",m),document.head.appendChild(r),function(){r.removeEventListener("load",v),r.removeEventListener("error",m),r.removeEventListener("abort",m),r.remove(),p(!1)}}p(!0)}),[p,v,m]),r.useEffect((function(){var e;if(c){var r={widgetType:"checkout",eventId:t,onOrderComplete:s,modal:a};a?r.modalTriggerElementId=d:r.iframeContainerId=d,l&&(r.promoCode=l),null==(e=globalThis.window)||e.EBWidgets.createWidget(r)}}),[c]),c?{id:d}:null}({eventId:""+s,modal:!0,onOrderComplete:r.useCallback((function(){console.log("Order was completed successfully")}),[])});return r.createElement("button",{className:t,id:null==l?void 0:l.id,type:"button"},a)}exports.Eventbrite=s,exports.EventbriteMeta=a,exports.ensure=function(e){if(null==e)throw new Error("Value must not be undefined or null");return e},exports.registerAll=function(e){var r,n;r=s,n=a,e?e.registerComponent(r,n):t(r,n)};
//# sourceMappingURL=plasmic-eventbrite.cjs.production.min.js.map
