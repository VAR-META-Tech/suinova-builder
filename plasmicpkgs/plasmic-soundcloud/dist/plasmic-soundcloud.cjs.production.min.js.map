{"version":3,"file":"plasmic-soundcloud.cjs.production.min.js","sources":["../src/soundcloud.tsx","../src/index.tsx"],"sourcesContent":["import { ComponentMeta, usePlasmicCanvasContext } from \"@plasmicapp/host\";\n\nimport React from \"react\";\n\nexport function ensure<T>(x: T | null | undefined): T {\n  if (x === null || x === undefined) {\n    // eslint-disable-next-line no-debugger\n    debugger;\n    throw new Error(`Value must not be undefined or null`);\n  } else {\n    return x;\n  }\n}\n\nconst modulePath = \"@plasmicpkgs/plasmic-soundcloud\";\n\ninterface SoundCloudProps {\n  url: string;\n  visual: boolean;\n  autoPlay: boolean;\n  color: string;\n  showComments: boolean;\n  showUser: boolean;\n  showRelated: boolean;\n  showTeaser: boolean;\n  className: string;\n}\n\nexport const SoundCloudMeta: ComponentMeta<SoundCloudProps> = {\n  name: \"hostless-soundcloud\",\n  displayName: \"SoundCloud\",\n  importName: \"SoundCloud\",\n  importPath: modulePath,\n  providesData: true,\n  description: \"SoundCloud Player\",\n  props: {\n    url: {\n      type: \"string\",\n      displayName: \"URL\",\n      description: \"Track URL\",\n      defaultValue:\n        \"https://soundcloud.com/vautdiscovery/ed-sheeran-thinking-out-loud-live-on-jools-holland\",\n    },\n    visual: {\n      type: \"boolean\",\n      displayName: \"Visual\",\n      description: \"Visual or Classic player\",\n      defaultValue: true,\n    },\n    autoPlay: {\n      type: \"boolean\",\n      displayName: \"AutoPlay\",\n      description: \"AutoPlay track\",\n      defaultValue: false,\n    },\n    color: {\n      type: \"color\",\n      displayName: \"Color\",\n      description: \"Widget color,should be in hex format\",\n    },\n    showUser: {\n      type: \"boolean\",\n      displayName: \"Author\",\n      description: \"Show/Hide the uploader name\",\n      defaultValue: false,\n    },\n    showRelated: {\n      type: \"boolean\",\n      displayName: \"Related\",\n      description: \"Show/Hide related songs\",\n      defaultValue: false,\n    },\n    showTeaser: {\n      type: \"boolean\",\n      displayName: \"Teaser\",\n      description: \"Show/Hide the teaser\",\n      defaultValue: false,\n    },\n    showComments: {\n      type: \"boolean\",\n      displayName: \"Comments\",\n      description: \"Show/Hide the comments\",\n      defaultValue: false,\n    },\n  },\n};\n\nexport function SoundCloud({\n  className,\n  url,\n  autoPlay,\n  color,\n  showComments,\n  showRelated,\n  showTeaser,\n  showUser,\n  visual,\n}: SoundCloudProps) {\n  const inEditor = usePlasmicCanvasContext();\n\n  const play = inEditor ? false : autoPlay;\n  const query = new URL(url);\n  const parameters = new URLSearchParams(query.search);\n  parameters.set(\"url\", encodeURIComponent(url));\n  parameters.set(\"show_comments\", showComments.toString());\n  parameters.set(\"show_user\", showUser.toString());\n  parameters.set(\"visual\", visual.toString());\n  parameters.set(\"auto_play\", play.toString());\n  parameters.set(\"show_teaser\", showTeaser.toString());\n  parameters.set(\"hide_related\", (!showRelated).toString());\n  parameters.set(\"color\", color);\n\n  return (\n    <iframe\n      frameBorder=\"0\"\n      scrolling=\"no\"\n      width=\"600px\"\n      height=\"400px\"\n      src={`https://w.soundcloud.com/player?${parameters.toString()}`}\n      allow=\"autoplay\"\n      className={className}\n    />\n  );\n}\n","import registerComponent, {\n  ComponentMeta,\n} from \"@plasmicapp/host/registerComponent\";\nimport registerGlobalContext from \"@plasmicapp/host/registerGlobalContext\";\nimport { SoundCloud, SoundCloudMeta } from \"./soundcloud\";\n\nexport function registerAll(loader?: {\n  registerComponent: typeof registerComponent;\n  registerGlobalContext: typeof registerGlobalContext;\n}) {\n  const _registerComponent = <T extends React.ComponentType<any>>(\n    Component: T,\n    defaultMeta: ComponentMeta<React.ComponentProps<T>>\n  ) => {\n    if (loader) {\n      loader.registerComponent(Component, defaultMeta);\n    } else {\n      registerComponent(Component, defaultMeta);\n    }\n  };\n\n  _registerComponent(SoundCloud, SoundCloudMeta);\n}\n\nexport * from \"./soundcloud\";\n"],"names":["SoundCloudMeta","name","displayName","importName","importPath","providesData","description","props","url","type","defaultValue","visual","autoPlay","color","showUser","showRelated","showTeaser","showComments","SoundCloud","_ref","className","play","usePlasmicCanvasContext","query","URL","parameters","URLSearchParams","search","set","encodeURIComponent","toString","React","frameBorder","scrolling","width","height","src","allow","x","Error","loader","Component","defaultMeta","registerComponent"],"mappings":"qPA4BaA,EAAiD,CAC5DC,KAAM,sBACNC,YAAa,aACbC,WAAY,aACZC,WAlBiB,kCAmBjBC,cAAc,EACdC,YAAa,oBACbC,MAAO,CACLC,IAAK,CACHC,KAAM,SACNP,YAAa,MACbI,YAAa,YACbI,aACE,2FAEJC,OAAQ,CACNF,KAAM,UACNP,YAAa,SACbI,YAAa,2BACbI,cAAc,GAEhBE,SAAU,CACRH,KAAM,UACNP,YAAa,WACbI,YAAa,iBACbI,cAAc,GAEhBG,MAAO,CACLJ,KAAM,QACNP,YAAa,QACbI,YAAa,wCAEfQ,SAAU,CACRL,KAAM,UACNP,YAAa,SACbI,YAAa,8BACbI,cAAc,GAEhBK,YAAa,CACXN,KAAM,UACNP,YAAa,UACbI,YAAa,0BACbI,cAAc,GAEhBM,WAAY,CACVP,KAAM,UACNP,YAAa,SACbI,YAAa,uBACbI,cAAc,GAEhBO,aAAc,CACZR,KAAM,UACNP,YAAa,WACbI,YAAa,yBACbI,cAAc,cAKJQ,EAAUC,OACxBC,EAASD,EAATC,UACAZ,EAAGW,EAAHX,IACAI,EAAQO,EAARP,SACAC,EAAKM,EAALN,MACAI,EAAYE,EAAZF,aACAF,EAAWI,EAAXJ,YACAC,EAAUG,EAAVH,WACAF,EAAQK,EAARL,SACAH,EAAMQ,EAANR,OAIMU,GAFWC,6BAEeV,EAC1BW,EAAQ,IAAIC,IAAIhB,GAChBiB,EAAa,IAAIC,gBAAgBH,EAAMI,QAU7C,OATAF,EAAWG,IAAI,MAAOC,mBAAmBrB,IACzCiB,EAAWG,IAAI,gBAAiBX,EAAaa,YAC7CL,EAAWG,IAAI,YAAad,EAASgB,YACrCL,EAAWG,IAAI,SAAUjB,EAAOmB,YAChCL,EAAWG,IAAI,YAAaP,EAAKS,YACjCL,EAAWG,IAAI,cAAeZ,EAAWc,YACzCL,EAAWG,IAAI,iBAAkBb,GAAae,YAC9CL,EAAWG,IAAI,QAASf,GAGtBkB,0BACEC,YAAY,IACZC,UAAU,KACVC,MAAM,QACNC,OAAO,QACPC,uCAAwCX,EAAWK,WACnDO,MAAM,WACNjB,UAAWA,0EApHSkB,GACxB,GAAIA,MAAAA,EAGF,MAAM,IAAIC,6CAEV,OAAOD,gCCJiBE,GAI1B,IACEC,EACAC,EADAD,EAUiBvB,EATjBwB,EAS6B1C,EAPzBwC,EACFA,EAAOG,kBAAkBF,EAAWC,GAEpCC,EAAkBF,EAAWC"}