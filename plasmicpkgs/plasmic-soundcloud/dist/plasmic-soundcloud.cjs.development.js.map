{"version":3,"file":"plasmic-soundcloud.cjs.development.js","sources":["../src/soundcloud.tsx","../src/index.tsx"],"sourcesContent":["import { ComponentMeta, usePlasmicCanvasContext } from \"@plasmicapp/host\";\n\nimport React from \"react\";\n\nexport function ensure<T>(x: T | null | undefined): T {\n  if (x === null || x === undefined) {\n    // eslint-disable-next-line no-debugger\n    debugger;\n    throw new Error(`Value must not be undefined or null`);\n  } else {\n    return x;\n  }\n}\n\nconst modulePath = \"@plasmicpkgs/plasmic-soundcloud\";\n\ninterface SoundCloudProps {\n  url: string;\n  visual: boolean;\n  autoPlay: boolean;\n  color: string;\n  showComments: boolean;\n  showUser: boolean;\n  showRelated: boolean;\n  showTeaser: boolean;\n  className: string;\n}\n\nexport const SoundCloudMeta: ComponentMeta<SoundCloudProps> = {\n  name: \"hostless-soundcloud\",\n  displayName: \"SoundCloud\",\n  importName: \"SoundCloud\",\n  importPath: modulePath,\n  providesData: true,\n  description: \"SoundCloud Player\",\n  props: {\n    url: {\n      type: \"string\",\n      displayName: \"URL\",\n      description: \"Track URL\",\n      defaultValue:\n        \"https://soundcloud.com/vautdiscovery/ed-sheeran-thinking-out-loud-live-on-jools-holland\",\n    },\n    visual: {\n      type: \"boolean\",\n      displayName: \"Visual\",\n      description: \"Visual or Classic player\",\n      defaultValue: true,\n    },\n    autoPlay: {\n      type: \"boolean\",\n      displayName: \"AutoPlay\",\n      description: \"AutoPlay track\",\n      defaultValue: false,\n    },\n    color: {\n      type: \"color\",\n      displayName: \"Color\",\n      description: \"Widget color,should be in hex format\",\n    },\n    showUser: {\n      type: \"boolean\",\n      displayName: \"Author\",\n      description: \"Show/Hide the uploader name\",\n      defaultValue: false,\n    },\n    showRelated: {\n      type: \"boolean\",\n      displayName: \"Related\",\n      description: \"Show/Hide related songs\",\n      defaultValue: false,\n    },\n    showTeaser: {\n      type: \"boolean\",\n      displayName: \"Teaser\",\n      description: \"Show/Hide the teaser\",\n      defaultValue: false,\n    },\n    showComments: {\n      type: \"boolean\",\n      displayName: \"Comments\",\n      description: \"Show/Hide the comments\",\n      defaultValue: false,\n    },\n  },\n};\n\nexport function SoundCloud({\n  className,\n  url,\n  autoPlay,\n  color,\n  showComments,\n  showRelated,\n  showTeaser,\n  showUser,\n  visual,\n}: SoundCloudProps) {\n  const inEditor = usePlasmicCanvasContext();\n\n  const play = inEditor ? false : autoPlay;\n  const query = new URL(url);\n  const parameters = new URLSearchParams(query.search);\n  parameters.set(\"url\", encodeURIComponent(url));\n  parameters.set(\"show_comments\", showComments.toString());\n  parameters.set(\"show_user\", showUser.toString());\n  parameters.set(\"visual\", visual.toString());\n  parameters.set(\"auto_play\", play.toString());\n  parameters.set(\"show_teaser\", showTeaser.toString());\n  parameters.set(\"hide_related\", (!showRelated).toString());\n  parameters.set(\"color\", color);\n\n  return (\n    <iframe\n      frameBorder=\"0\"\n      scrolling=\"no\"\n      width=\"600px\"\n      height=\"400px\"\n      src={`https://w.soundcloud.com/player?${parameters.toString()}`}\n      allow=\"autoplay\"\n      className={className}\n    />\n  );\n}\n","import registerComponent, {\n  ComponentMeta,\n} from \"@plasmicapp/host/registerComponent\";\nimport registerGlobalContext from \"@plasmicapp/host/registerGlobalContext\";\nimport { SoundCloud, SoundCloudMeta } from \"./soundcloud\";\n\nexport function registerAll(loader?: {\n  registerComponent: typeof registerComponent;\n  registerGlobalContext: typeof registerGlobalContext;\n}) {\n  const _registerComponent = <T extends React.ComponentType<any>>(\n    Component: T,\n    defaultMeta: ComponentMeta<React.ComponentProps<T>>\n  ) => {\n    if (loader) {\n      loader.registerComponent(Component, defaultMeta);\n    } else {\n      registerComponent(Component, defaultMeta);\n    }\n  };\n\n  _registerComponent(SoundCloud, SoundCloudMeta);\n}\n\nexport * from \"./soundcloud\";\n"],"names":["ensure","x","undefined","Error","modulePath","SoundCloudMeta","name","displayName","importName","importPath","providesData","description","props","url","type","defaultValue","visual","autoPlay","color","showUser","showRelated","showTeaser","showComments","SoundCloud","_ref","className","inEditor","usePlasmicCanvasContext","play","query","URL","parameters","URLSearchParams","search","set","encodeURIComponent","toString","React","frameBorder","scrolling","width","height","src","allow","registerAll","loader","_registerComponent","Component","defaultMeta","registerComponent"],"mappings":"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"}