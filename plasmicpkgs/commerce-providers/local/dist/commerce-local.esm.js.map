{"version":3,"file":"commerce-local.esm.js","sources":["../src/fetcher.ts","../src/const.ts","../src/utils/cart.ts","../src/cart/use-cart.tsx","../src/cart/use-add-item.tsx","../src/cart/use-update-item.tsx","../src/cart/use-remove-item.tsx","../src/utils/sort-product.ts","../src/product/use-search.tsx","../src/product/use-product.tsx","../src/site/use-categories.ts","../src/site/use-brands.ts","../src/provider.ts","../src/local.ts","../src/registerCommerceProvider.tsx","../src/index.tsx"],"sourcesContent":["import { Fetcher } from '@plasmicpkgs/commerce';\n\nexport const fetcher: Fetcher = async () => {\n  console.log('FETCHER')\n  const res = await fetch('./data.json')\n  if (res.ok) {\n    const { data } = await res.json()\n    return data\n  }\n  throw res\n}\n","export const LOCAL_CART_OBJ = \"localCartObj\";\n\nexport const LOCAL_CART_ID = \"localCartId\";\n","import { CartType } from \"@plasmicpkgs/commerce\";\nimport Cookies from \"js-cookie\";\nimport { LOCAL_CART_ID, LOCAL_CART_OBJ } from \"../const\";\n\nconst options: Cookies.CookieAttributes = {\n  sameSite: \"none\",\n  secure: true,\n};\n\nexport const createCart: () => CartType.Cart = () => {\n  const cart = {\n    id: \"\",\n    createdAt: \"\",\n    currency: { code: \"USD\" },\n    taxesIncluded: false,\n    lineItems: [],\n    lineItemsSubtotalPrice: 0,\n    subtotalPrice: 0,\n    totalPrice: 0,\n  };\n\n  const cartId = Date.now().toString();\n\n  Cookies.set(LOCAL_CART_ID, cartId);\n  Cookies.set(\n    LOCAL_CART_OBJ,\n    JSON.stringify({\n      id: cartId,\n      cart,\n    })\n  );\n\n  return cart;\n};\n\nexport const getCart: (cartId?: string) => CartType.Cart = (\n  cartId?: string\n) => {\n  cartId = cartId ?? Cookies.get(LOCAL_CART_ID);\n  const cartStr = Cookies.get(LOCAL_CART_OBJ);\n  const cart = cartStr ? JSON.parse(cartStr) : undefined;\n\n  if (!cart || cart.id !== cartId) {\n    return createCart();\n  } else {\n    return cart.cart;\n  }\n};\n\nexport const cartUpdate = (newCart: CartType.Cart) => {\n  Cookies.set(\n    LOCAL_CART_OBJ,\n    JSON.stringify({\n      id: Cookies.get(LOCAL_CART_ID),\n      cart: newCart,\n    })\n  );\n\n  return newCart;\n};\n","/*\n  Forked from https://github.com/vercel/commerce/tree/main/packages/local/src\n  Changes:\n    - Before: just returned an empty cart.\n    - Now: Read cart from local storage.\n*/\nimport { SWRHook, useCart, UseCart } from \"@plasmicpkgs/commerce\";\nimport React from \"react\";\nimport { getCart } from \"../utils/cart\";\n\nexport default useCart as UseCart<typeof handler>;\n\nexport const handler: SWRHook<any> = {\n  fetchOptions: {\n    query: \"use-cart\",\n  },\n  async fetcher({ input, options, fetch }) {\n    return getCart(input.cartId);\n  },\n  useHook: ({ useData }) => (input) => {\n    const response = useData({\n      swrOptions: { revalidateOnFocus: false, ...input?.swrOptions },\n    });\n    return React.useMemo(\n      () =>\n        Object.create(response, {\n          isEmpty: {\n            get() {\n              return (response.data?.lineItems.length ?? 0) <= 0;\n            },\n            enumerable: true,\n          },\n        }),\n      [response]\n    );\n  },\n};\n","/*\n  Forked from https://github.com/vercel/commerce/tree/main/packages/local/src\n  Changes:\n    - Implemented a local cart\n    - The items are added to local storage.\n*/\nimport {\n  CommerceError,\n  MutationHook,\n  useAddItem,\n  UseAddItem,\n} from \"@plasmicpkgs/commerce\";\nimport { useCallback } from \"react\";\nimport data from \"../data.json\";\nimport { cartUpdate, getCart } from \"../utils/cart\";\nimport useCart from \"./use-cart\";\n\nexport default useAddItem as UseAddItem<typeof handler>;\nexport const handler: MutationHook<any> = {\n  fetchOptions: {\n    query: \"use-add-item\",\n  },\n  async fetcher({ input: item, options, fetch }) {\n    if (\n      item.quantity &&\n      (!Number.isInteger(item.quantity) || item.quantity! < 1)\n    ) {\n      throw new CommerceError({\n        message: \"The item quantity has to be a valid integer greater than 0\",\n      });\n    }\n\n    const lineItem = {\n      variantId: item.variantId,\n      quantity: item.quantity ?? 1,\n    };\n\n    const cart = getCart();\n    for (const product of data.products) {\n      const variant = (product.variants as any[]).find(\n        (variant) => variant.id === item.variantId\n      );\n      if (variant) {\n        cart.totalPrice += variant.price * (item.quantity ?? 1);\n        cart.currency.code = product.price.currencyCode;\n        const currentLineItem = cart.lineItems.find(\n          (item) => item.variantId === lineItem.variantId\n        );\n        if (!currentLineItem) {\n          cart.lineItems.push(lineItem as any);\n        } else {\n          currentLineItem.quantity += lineItem.quantity;\n        }\n      }\n    }\n\n    return cartUpdate(cart);\n  },\n  useHook: ({ fetch }) => () => {\n    const { mutate } = useCart();\n    return useCallback(\n      async function addItem(input) {\n        const data = await fetch({ input });\n        await mutate(data, false);\n        return data;\n      },\n      [fetch, mutate]\n    );\n  },\n};\n","/*\n  Forked from https://github.com/vercel/commerce/tree/main/packages/local/src\n  Changes: None\n*/\nimport { MutationHook } from '@plasmicpkgs/commerce'\nimport { useUpdateItem,\n  UseUpdateItem,\n} from '@plasmicpkgs/commerce'\n\nexport default useUpdateItem as UseUpdateItem<any>\n\nexport const handler: MutationHook<any> = {\n  fetchOptions: {\n    query: '',\n  },\n  async fetcher({ input, options, fetch }) {},\n  useHook:\n    ({ fetch }) =>\n    () => {\n      return async function addItem() {\n        return {}\n      }\n    },\n}\n","/*\n  Forked from https://github.com/vercel/commerce/tree/main/packages/local/src\n  Changes: None\n*/\nimport { MutationHook } from '@plasmicpkgs/commerce'\nimport {useRemoveItem,\n  UseRemoveItem,\n} from '@plasmicpkgs/commerce'\n\nexport default useRemoveItem as UseRemoveItem<typeof handler>\n\nexport const handler: MutationHook<any> = {\n  fetchOptions: {\n    query: '',\n  },\n  async fetcher({ input, options, fetch }) {},\n  useHook:\n    ({ fetch }) =>\n    () => {\n      return async function removeItem(input) {\n        return {}\n      }\n    },\n}\n","import data from \"../data.json\";\n\nexport const sortProduct = (\n  a: typeof data.products[0],\n  b: typeof data.products[0],\n  sortKey: string\n) => {\n  switch (sortKey) {\n    case \"price-asc\":\n      return a.price.value < b.price.value ? -1 : 1;\n    case \"price-desc\":\n      return a.price.value < b.price.value ? 1 : -1;\n    case \"trending-desc\":\n      return a.id.localeCompare(b.id);\n    case \"latest-desc\":\n      return a.id.localeCompare(b.id) * -1;\n    default:\n      return 0;\n  }\n};\n","/*\n  Forked from https://github.com/vercel/commerce/tree/main/packages/local/src\n  Changes: None\n*/\nimport { SWRHook, useSearch, UseSearch } from \"@plasmicpkgs/commerce\";\nimport data from \"../data.json\";\nimport { sortProduct } from \"../utils/sort-product\";\nconst useSearchTyped: UseSearch<typeof handler> = useSearch;\nexport default useSearchTyped;\n\nexport const handler: SWRHook<any> = {\n  fetchOptions: {\n    query: \"use-search\",\n  },\n  async fetcher({ input, options, fetch }) {\n    const { search, categoryId, brandId, sort, count } = input;\n\n    let products = data.products;\n\n    if (categoryId) {\n      const category = data.categories.find(\n        (category) => category.id === categoryId\n      );\n      products = data.products.filter((product) =>\n        category?.products?.includes(product.id)\n      );\n    }\n\n    if (brandId) {\n      products = products.filter(\n        (product) =>\n          product.vendor.replace(/\\s+/g, \"-\").toLowerCase() ===\n          `${brandId}`.toLowerCase()\n      );\n    }\n\n    if (search) {\n      products = products.filter(\n        (product) =>\n          product.name.toLowerCase().includes(`${search}`.toLowerCase()) ||\n          product.slug.toLowerCase().includes(`${search}`.toLowerCase())\n      );\n    }\n\n    if (sort) {\n      products = products.sort((a, b) => sortProduct(a, b, sort));\n    }\n\n    return {\n      products: products.slice(0, count),\n      found: products.length > 0,\n    };\n  },\n  useHook:\n    ({ useData }) =>\n    (input = {}) => {\n      return useData({\n        input: [\n          [\"search\", input.search],\n          [\"prefixSearch\", input.prefixSearch],\n          [\"categoryId\", input.categoryId],\n          [\"brandId\", input.brandId],\n          [\"sort\", input.sort],\n          [\"locale\", input.locale],\n          [\"count\", input.count],\n        ],\n        swrOptions: {\n          revalidateOnFocus: false,\n          ...input.swrOptions,\n        },\n      });\n    },\n};\n","import { SWRHook, useProduct, UseProduct } from \"@plasmicpkgs/commerce\";\nimport data from \"../data.json\";\nexport default useProduct as UseProduct<typeof handler>;\n\nexport const handler: SWRHook<any> = {\n  fetchOptions: {\n    query: \"use-product\",\n  },\n  async fetcher({ input, options, fetch }) {\n    const { id } = input;\n\n    return (\n      data.products.find((product) =>\n        [product.id, product.slug].includes(id)\n      ) ?? null\n    );\n  },\n  useHook: ({ useData }) => (input = {}) => {\n    return useData({\n      input: [[\"id\", input.id]],\n      swrOptions: {\n        revalidateOnFocus: false,\n        ...input.swrOptions,\n      },\n    });\n  },\n};\n","import { SWRHook, useCategories, UseCategories } from \"@plasmicpkgs/commerce\";\nimport React from \"react\";\nimport data from \"../data.json\";\nexport default useCategories as UseCategories<typeof handler>;\n\nexport const handler: SWRHook<any> = {\n  fetchOptions: {\n    query: \"use-categories\",\n  },\n  async fetcher({ input, options, fetch }) {\n    const { categoryId } = input;\n    if (!categoryId) {\n      return data.categories;\n    }\n    const category = data.categories.find(\n      (category) => category.id === categoryId\n    );\n    return category ? [category] : [];\n  },\n  useHook: ({ useData }) => (input) => {\n    const response = useData({\n      input: [[\"categoryId\", input?.categoryId]],\n      swrOptions: { revalidateOnFocus: false, ...input?.swrOptions },\n    });\n    return React.useMemo(\n      () =>\n        Object.create(response, {\n          isEmpty: {\n            get() {\n              return (response.data?.length ?? 0) <= 0;\n            },\n            enumerable: true,\n          },\n        }),\n      [response]\n    );\n  },\n};\n","import { SWRHook, useBrands, UseBrands } from \"@plasmicpkgs/commerce\";\nimport React from \"react\";\nimport data from \"../data.json\";\nexport default useBrands as UseBrands<typeof handler>;\n\nexport const handler: SWRHook<any> = {\n  fetchOptions: {\n    query: \"use-brands\",\n  },\n  async fetcher({ input, options, fetch }) {\n    const vendorsStrings = data.products.map((product) => product.vendor);\n    return Array.from(new Set(vendorsStrings).values()).map((v) => {\n      const id = v.replace(/\\s+/g, \"-\").toLowerCase();\n      return {\n        entityId: id,\n        name: v,\n        path: `brands/${id}`,\n      };\n    });\n  },\n  useHook: ({ useData }) => (input) => {\n    const response = useData({\n      swrOptions: { revalidateOnFocus: false, ...input?.swrOptions },\n    });\n    return React.useMemo(\n      () =>\n        Object.create(response, {\n          isEmpty: {\n            get() {\n              return (response.data?.length ?? 0) <= 0;\n            },\n            enumerable: true,\n          },\n        }),\n      [response]\n    );\n  },\n};\n","/*\n  Forked from https://github.com/vercel/commerce/tree/main/packages/local/src\n  Changes: Removed authentication, customer and wishlist hooks\n*/\nimport { fetcher } from './fetcher'\nimport { handler as useCart } from './cart/use-cart'\nimport { handler as useAddItem } from './cart/use-add-item'\nimport { handler as useUpdateItem } from './cart/use-update-item'\nimport { handler as useRemoveItem } from './cart/use-remove-item'\nimport { handler as useSearch } from './product/use-search'\nimport { handler as useProduct } from './product/use-product'\nimport { handler as useCategories } from './site/use-categories'\nimport { handler as useBrands } from './site/use-brands'\nimport { LOCAL_CART_ID } from './const'\nexport const localProvider = {\n  locale: 'en-us',\n  cartCookie: LOCAL_CART_ID,\n  fetcher: fetcher,\n  cart: { useCart, useAddItem, useUpdateItem, useRemoveItem },\n  products: { useSearch, useProduct },\n  site: { useCategories, useBrands }\n}\n\nexport type LocalProvider = typeof localProvider\n","/*\n  Forked from https://github.com/vercel/commerce/tree/main/packages/local/src\n  Changes: Add export data\n*/\nexport * from \"./registerable\";\nexport { localProvider, data };\nexport type { LocalProvider };\nimport {\n  getCommerceProvider,\n  useCommerce as useCoreCommerce,\n} from \"@plasmicpkgs/commerce\";\nimport data from \"./data.json\";\nimport { localProvider, LocalProvider } from \"./provider\";\n\nexport const CommerceProvider = getCommerceProvider(localProvider);\n\nexport const useCommerce = () => useCoreCommerce<LocalProvider>();\n","import { GlobalContextMeta } from \"@plasmicapp/host\";\nimport registerGlobalContext from \"@plasmicapp/host/registerGlobalContext\";\nimport React from \"react\";\nimport { CommerceProvider } from \"./local\";\nimport { Registerable } from \"./registerable\";\n\ninterface CommerceProviderProps {\n  children?: React.ReactNode;\n}\n\nexport const commerceProviderMeta: GlobalContextMeta<CommerceProviderProps> = {\n  name: \"plasmic-commerce-local-provider\",\n  displayName: \"Local Provider\",\n  props: {},\n  importPath: \"@plasmicpkgs/commerce-local\",\n  importName: \"CommerceProviderComponent\",\n};\n\nfunction CommerceProviderComponent(props: CommerceProviderProps) {\n  return <CommerceProvider>{props.children}</CommerceProvider>;\n}\n\nexport function registerCommerceProvider(\n  loader?: Registerable,\n  customCommerceProviderMeta?: GlobalContextMeta<CommerceProviderProps>\n) {\n  const doRegisterComponent: typeof registerGlobalContext = (...args) =>\n    loader\n      ? loader.registerGlobalContext(...args)\n      : registerGlobalContext(...args);\n  doRegisterComponent(\n    CommerceProviderComponent,\n    customCommerceProviderMeta ?? commerceProviderMeta\n  );\n}\n","import { Registerable } from \"./registerable\";\nimport { registerCommerceProvider } from \"./registerCommerceProvider\";\nexport * from \"./registerable\";\n\nexport * from \"./local\";\n\nexport function registerAll(loader?: Registerable) {\n  registerCommerceProvider(loader);\n}\n\nexport { registerCommerceProvider };"],"names":["fetcher","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","res","_yield$res$json","data","wrap","_callee$","_context","prev","next","console","log","fetch","sent","ok","json","abrupt","stop","apply","arguments","LOCAL_CART_OBJ","LOCAL_CART_ID","createCart","cart","id","createdAt","currency","code","taxesIncluded","lineItems","lineItemsSubtotalPrice","subtotalPrice","totalPrice","cartId","Date","now","toString","Cookies","set","JSON","stringify","getCart","_cartId","get","cartStr","parse","undefined","cartUpdate","newCart","handler","fetchOptions","query","input","options","useHook","_ref2","useData","response","swrOptions","_extends","revalidateOnFocus","React","useMemo","Object","create","isEmpty","_response$data$lineIt","_response$data","length","enumerable","item","quantity","Number","isInteger","CommerceError","message","lineItem","variantId","_item$quantity","_iterator","_createForOfIteratorHelperLoose","products","_step","done","product","value","variant","variants","find","price","_item$quantity2","currencyCode","currentLineItem","push","_useCart","useCart","mutate","useCallback","_addItem","_callee2","_callee2$","_context2","addItem","_x","_removeItem","removeItem","sortProduct","a","b","sortKey","localeCompare","search","categoryId","brandId","sort","count","category","categories","filter","_category$products","includes","vendor","replace","toLowerCase","name","slug","slice","found","prefixSearch","locale","_data$products$find","_response$data$length","vendorsStrings","map","Array","from","Set","values","v","entityId","path","localProvider","cartCookie","useAddItem","useUpdateItem","useRemoveItem","useSearch","useProduct","site","useCategories","useBrands","CommerceProvider","getCommerceProvider","useCommerce","useCoreCommerce","commerceProviderMeta","displayName","props","importPath","importName","CommerceProviderComponent","children","registerCommerceProvider","loader","customCommerceProviderMeta","doRegisterComponent","registerGlobalContext","registerAll"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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"}